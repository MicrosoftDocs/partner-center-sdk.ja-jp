---
title: 1回限りの購入を行う
description: パートナーセンター API を使用して、ソフトウェアサブスクリプション、永続ソフトウェア、Azure 予約仮想マシン (VM) インスタンスなどのソフトウェアおよび予約製品を1回限り購入する方法について説明します。
ms.date: 10/09/2018
ms.service: partner-dashboard
ms.subservice: partnercenter-csp
ms.localizationpriority: medium
ms.openlocfilehash: 088f60bb249985a01d955aa53fc1ab7fb995f759
ms.sourcegitcommit: fbfad1ae706c8e4bdae080e5d79bc158d6b55d02
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/26/2019
ms.locfileid: "74488372"
---
# <a name="make-a-one-time-purchase"></a>1回限りの購入を行う

**適用対象**

- パートナー センター
- 米国政府機関向け Microsoft Cloud のパートナー センター

パートナーセンター API を使用して、ソフトウェアサブスクリプション、永続ソフトウェア、Azure 予約仮想マシン (VM) インスタンスなどのソフトウェアおよび予約製品を1回限り購入する方法について説明します。

> [!NOTE]  
> ソフトウェアサブスクリプションは、次の市場ではご利用いただけません。  
>  
> | 利用できないマーケット            | &nbsp;                            | &nbsp;                                   |
> |--------------------------------|-----------------------------------|------------------------------------------|
> | オーランド諸島                  | グリーンランド                         | パプアニューギニア                         |
> | 米領サモア                 | グレナダ                           | ピトケアン島                         |
> | アンドラ                        | グアドループ                        | レユニオン                                  |
> | アンギラ                       | グアム                              | ロシア連邦                       |
> | 南極                     | ガーンジー島                          | サバ島                                     |
> | アンティグア・バーブーダ            | ギニア                            | サン・バルテルミー                         |
> | アルバ                          | ギニアビサウ                     | セントルシア                              |
> | ベナン                          | ガイアナ                            | サンマルタン島                             |
> | ブータン                         | ハイチ                             | サンピエール・ミクロン                |
> | ボネール島                        | ハード・マクドナルド諸島 | セントビンセントおよびグレナディーン諸島         |
> | ブーベ島                  | マン島                       | サモア                                    |
> | ブラジル                         | ヤンマイエン島                         | サンマリノ                               |
> | 英領インド洋地域 | ジャージー島                            | サントメ・プリンシペ                    |
> | 英領バージン諸島         | キリバス                          | セーシェル                               |
> | ブルキナファソ                   | コソボ                            | シエラレオネ                             |
> | ブルンジ                        | ラオス                              | シント・ユースタティウス島                           |
> | カンボジア                       | レソト                           | シント・マールテン島                             |
> | 中央アフリカ共和国       | リベリア                           | ソロモン諸島                          |
> | チャド                           | マダガスカル                        | ソマリア                                  |
> | 中国                          | マラウイ                            | サウスジョージア・サウスサンドウィッチ諸島 |
> | クリスマス島               | モルディブ                          | 南スーダン                              |
> | ココス諸島        | マリ                              | セントヘレナ、アセンションおよびトリスタンダクーニャ   |
> | コモロ                        | マーシャル諸島                  | スリナム                                 |
> | コンゴ共和国                          | マルチニーク島                        | スバールバル諸島                                 |
> | コンゴ民主共和国                    | モーリタニア                        | スワジランド                                |
> | クック諸島                   | マイヨット島                           | ティモール・レステ                              |
> | ジブチ                       | ミクロネシア                        | トーゴ                                     |
> | ドミニカ国                       | モンセラット                        | トケラウ諸島                                  |
> | 赤道ギニア              | モザンビーク                        | トンガ                                    |
> | エリトリア                        | ミャンマー                           | タークス・カイコス諸島                 |
> | フォークランド諸島               | ナウル                             | ツバル                                   |
> | フランス領ギアナ                  | ニューカレドニア                     | 合衆国領有小離島                    |
> | フランス領ポリネシア               | ニジェール                             | バヌアツ                                  |
> | 仏領極南諸島    | ニウエ                              | バチカン市国                             |
> | ガボン                          | ノーフォーク島                    | ワリス・フテュナ諸島                        |
> | ガンビア                         | 北マリアナ諸島          | イエメン                                    |
> | ジブラルタル                      | パラオ                             | &nbsp;                                   |
>  
&nbsp;
> [!NOTE]
> 永続的なソフトウェアを購入するには、事前に認定を取得しておく必要があります。 詳細については、サポートにお問い合わせください。

## <a name="prerequisites"></a>前提条件

- 「[パートナーセンターの認証](partner-center-authentication.md)」で説明されている資格情報。 このシナリオでは、スタンドアロンアプリとアプリ + ユーザー資格情報の両方を使用した認証がサポートされています。
- 顧客識別子。 顧客の ID を持っていない場合は、[顧客] リストから顧客を選択し、[アカウント] を選択して、Microsoft ID を保存することで、パートナーセンターで ID を検索できます。

## <a name="making-a-one-time-purchase"></a>1回限りの購入を行う

1回限りの購入を行うには、次の手順を実行します。

1. [有効化](#enablement)-(AZURE 予約 VM インスタンスのみ) アクティブな CSP Azure サブスクリプションを登録して、予約製品を購入できるようにします。
2. [[検出](#discovery)]-購入する製品と sku を検索して選択し、その可用性を確認します。
3. [注文の送信](#order-submission)-注文の品目を含むショッピングカートを作成して送信します。
4. [注文の詳細を取得](#get-order-details)する-注文の詳細、顧客のすべての注文、または請求サイクルの種類別の注文を表示します。

1回限りの購入を行った後、次のシナリオでは、権利に関する情報を取得して製品のライフサイクルを管理する方法、および残高明細書、請求書、および請求書の概要を取得する方法について説明します。

- [ライフサイクル管理](#lifecycle-management)
- [請求書と調整](#invoice-and-reconciliation)

## <a name="enablement"></a>有効化

Azure 予約 VM インスタンスを追加するアクティブなサブスクリプションを特定したら、有効にするためにサブスクリプションを登録する必要があります。 既存の[サブスクリプション](subscription-resources.md)リソースが有効になるように登録するには、「[サブスクリプションを登録](register-a-subscription.md)する」を参照してください。

サブスクリプションを登録した後、登録の状態を確認して、登録プロセスが完了したことを確認する必要があります。 これを行うには、「[サブスクリプションの登録状態を取得](get-subscription-registration-status.md)する」を参照してください。

## <a name="discovery"></a>情報表示

サブスクリプションが有効になったら、次のパートナーセンター API モデルを使用して、製品と Sku を選択し、可用性を確認する準備ができました。

- [Product](product-resources.md#product) -購入可能な商品またはサービスのグループ化構成体。 製品自体は購入可能なの項目ではありません。
- [Sku](product-resources.md#sku) -製品の購入可能な在庫保持ユニット (sku)。 これらは、製品のさまざまな形状を表します。
- [可用性](product-resources.md#availability)-SKU を購入できるようにする構成 (国、通貨、業界セグメントなど)。

1回限りの購入を行う前に、次の手順を実行します。

1. 購入する製品と SKU を特定して取得します。 これを行うには、まず製品と Sku を一覧表示します。または、製品と SKU の Id が既にわかっている場合は、それらを選択します。

    - [製品の一覧を取得する](get-a-list-of-products.md)
    - [製品 ID を使用して製品を取得する](get-a-product-by-id.md)
    - [製品の Sku の一覧を取得する](get-a-list-of-skus-for-a-product.md)
    - [SKU ID を使用して SKU を取得する](get-a-sku-by-id.md)

2. SKU のインベントリを確認します。 この手順は、 **InventoryCheck**の前提条件でタグ付けされている sku にのみ必要です。

    - [インベントリの確認](check-inventory.md)

3. [SKU](product-resources.md#sku)の[可用性](product-resources.md#availability)を取得します。 注文を配置するときに、可用性の**Catalogitemid**が必要になります。 この値を取得するには、次の Api のいずれかを使用します。

    - [SKU に使用できる機能の一覧を取得する](get-a-list-of-availabilities-for-a-sku.md)
    - [可用性 ID を使用して可用性を取得する](get-an-availability-by-id.md)  

## <a name="order-submission"></a>注文の送信

注文を送信するには、次の手順を実行します。

1. 購入するカタログアイテムのコレクションを保持するカートを作成します。 [カート](cart-resources.md)を作成すると、同じ[順序](order-resources.md)で一緒に購入できるものに基づいて[カートの品目](cart-resources.md#cartlineitem)が自動的にグループ化されます。

    - [ショッピングカートを作成する](create-a-cart.md)
    - [ショッピングカートを更新する](update-a-cart.md)

2. カートをチェックアウトします。 カートをチェックアウトすると、[注文](order-resources.md)が作成されます。

    - [カートをチェックアウトする](checkout-a-cart.md)

## <a name="get-order-details"></a>注文の詳細を取得する

注文を作成したら、注文 ID を使用して個々の注文の詳細を取得したり、顧客の注文の一覧を取得したりできます。 注文が送信されてから顧客の注文の一覧に表示されるまでに、最大15分の遅延が発生することに注意してください。

- 注文 ID を使用して個々の注文の詳細を取得します。 「 [ID で注文を取得する](get-an-order-by-id.md)」を参照してください。

- 顧客 ID を使用して顧客の注文の一覧を取得します。 「[顧客の注文をすべて取得する](get-all-of-a-customer-s-orders.md)」を参照してください。

- [請求サイクルの種類](product-resources.md#billingcycletype)によって顧客の注文の一覧を取得するには、注文 (1 回限りの料金) と年払いまたは月単位の請求書を個別に一覧表示します。 「[顧客と請求サイクルの種類別の注文の一覧を取得する](get-a-list-of-orders-by-customer-and-billing-cycle-type.md)」を参照してください。

## <a name="lifecycle-management"></a>ライフサイクルの管理

パートナーセンターでの1回限りの購入のライフサイクルの管理の一環として、[権利](entitlement-resources.md)に関する情報を取得し、予約注文 ID を使用して予約の詳細を取得することができます。 これを行う方法の例については、「[権利の取得](get-a-collection-of-entitlements.md)」を参照してください。

## <a name="invoice-and-reconciliation"></a>請求書と調整

次のシナリオでは、顧客の[請求書](invoice-resources.md)をプログラムで表示し、1回限りの課金を含むアカウントの残高と概要を取得する方法について説明します。  

**残高と支払い**定期的な料金と1回限りの課金のバランスを取る既定の通貨の種類で現在のアカウント残高を取得する方法については、「[現在のアカウント残高を取得](get-the-reseller-s-current-account-balance.md)する」を参照してください。

**複数通貨の残高と支払い**現在のアカウント残高と、顧客の通貨の種類ごとに1回だけ課金される請求書の概要を含む請求書の概要を取得するには、「[請求書の概要を取得](get-invoice-summaries.md)する」を参照してください。

**請求書**定期的な料金と1回の課金の両方を示す請求書のコレクションを取得するには、「[請求書のコレクションを取得](get-a-collection-of-invoices.md)する」を参照してください。

**1 つの請求書**請求書 ID を使用して特定の請求書を取得するには、「 [ID で請求書を取得](get-invoice-by-id.md)する」を参照してください。  

**調整**特定の請求書 ID の請求書明細項目の詳細 (調整行項目) のコレクションを取得するには、「[請求書明細項目を取得](get-invoiceline-items.md)する」を参照してください。  

**PDF として請求書をダウンロード**する請求書 ID を使用して PDF 形式で請求書明細書を取得するには、「 [invoice ステートメントを取得](get-invoice-statement.md)する」を参照してください。
